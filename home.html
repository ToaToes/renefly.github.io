<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Home</title>
  <link rel="stylesheet" href="style_home.css" />
</head>
<body>

  <h2>Welcome to Home Page</h2>
  <p id="userEmail">You are logged in as: </p>
  <!-- Hide -->
  <!-- <button id="logoutBtn">Logout</button> -->


  <!-- Clouds Layer 
  <div id="clouds">
    <div class="cloud cloud1">
      <div class="puff"></div>
      <div class="puff"></div>
      <div class="puff"></div>
    </div>
    <div class="cloud cloud2">
      <div class="puff"></div>
      <div class="puff"></div>
      <div class="puff"></div>
      <div class="puff"></div>
    </div>
    <div class="cloud cloud3">
      <div class="puff"></div>
      <div class="puff"></div>
      <div class="puff"></div>
    </div>
  </div>

     Loading Bar
  <div id="loadingContainer">
    <div id="loadingBar"></div>
  </div>  -->
  

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/12.3.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.3.0/firebase-auth-compat.js"></script>


  <!-- Firebase Config -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBjBXmXps-wu6qIudSdD_0aGNri6WiM3vU",
      authDomain: "loginauth-8662e.firebaseapp.com",
      projectId: "loginauth-8662e",
      storageBucket: "loginauth-8662e.firebasestorage.app",
      messagingSenderId: "542087917375",
      appId: "1:542087917375:web:deb096e402681ac4756d8a",
      measurementId: "G-DK6XZBH36G"
    };

    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();

    // Redirect to login if user not signed in
    auth.onAuthStateChanged(user => {
      if (!user || !user.emailVerified) {
        // Not signed in, redirect to login
        window.location.href = "index.html";
      } else {
        
        document.getElementById("userEmail").textContent = `You are logged in as: ${user.email}`;

        
        // Start loading animation
        //document.getElementById("loadingBar").classList.add("animate");
        

        // Redirect after 1 seconds
        setTimeout(() => {
          window.location.href = "search.html";
        }, 1000);}

    });

    /*
    // Logout
    document.getElementById("logoutBtn").addEventListener("click", () => {
      auth.signOut().then(() => {
        window.location.href = "index.html";
      });
    });
    */
  </script>
</body>
</html>
